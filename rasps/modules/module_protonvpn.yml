- name: "Installing ProtonVPN dependencies"
  dnf:
    state: latest
    name:
      - libappindicator-gtk3
      - gnome-shell-extension-appindicator
      - gnome-tweaks

- name: "Downloading ProtonVPN"
  dnf:
    state: present
    name: "https://protonvpn.com/download/protonvpn-stable-release-1.0.1-1.noarch.rpm"
  when: ansible_distribution == 'Fedora' and ansible_distribution_major_version|int == 34

- name: "Updating cache"
  dnf:
    update_cache: yes

- name: "Installing ProtonVPN"
  dnf:
    state: latest
    name: protonvpn