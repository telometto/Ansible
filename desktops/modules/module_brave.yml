- name: "Installing Brave browser required dependencies"
  dnf:
    state: latest
    name:
      - dnf-plugins-core

- name: "Adding Brave browser repo"
  ansible.builtin.command:
    cmd: dnf config-manager --add-repo https://brave-browser-rpm-release.s3.brave.com/x86_64/

# Note: The step below should only be uncommented if you have commented the key in the var file!
#- name: "Importing Brave browser security security keys"
#  ansible.builtin.rpm_key:
#    state: present
#    key: "https://brave-browser-rpm-release.s3.brave.com/brave-core.asc"

- name: "Updating cache"
  dnf:
    update_cache: yes

- name: "Installing Brave browser"
  dnf:
    state: latest
    name:
      - brave-browser